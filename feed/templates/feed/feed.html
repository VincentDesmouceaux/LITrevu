{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/feed.css' %}">
{% endblock %}

{% block content %}
<!-- Boutons de création de post et critique -->
<div style="display: flex; justify-content: center; gap: 30px; margin-bottom: 40px;">
    <a href="{% url 'review-create' %}" class="btn">Créer une critique</a>
    <a href="{% url 'ticket-add' %}" class="btn">Créer un post</a>
</div>

<!-- Conteneur du flux principal -->
<div class="flux-container" style="max-width: 800px; margin: 0 auto;">
    {% for post in posts %}
        <div style="margin-bottom: 20px; border: 1px solid black; border-radius: 5px; padding: 15px;">
            
            <!-- Inclusion conditionnelle des snippets en fonction du type de contenu -->
            {% if post.content_type == 'TICKET' %}
                {% include 'feed/ticket_snippet.html' %}
            {% elif post.content_type == 'REVIEW' %}
                {% include 'feed/review_snippet.html' %}
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
