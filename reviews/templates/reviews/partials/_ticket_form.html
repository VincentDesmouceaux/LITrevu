{% load crispy_forms_tags %}
<form method="post" enctype="multipart/form-data" class="ticket-form" style="width: 100%;">
    {% csrf_token %}

    <!-- Champ pour le titre -->
    <div class="ticket-form-group" style="margin-bottom: 20px;">
        <label for="{{ form.title.id_for_label }}" style="font-weight: bold; margin-bottom: 8px; display: block;">{{ form.title.label }}</label>
        <div class="ticket-form-field">
            <input type="text" name="{{ form.title.name }}" id="{{ form.title.id_for_label }}" maxlength="128" required style="width: 100%; padding: 10px; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px;">
        </div>
    </div>

    <!-- Champ pour la description -->
    <div class="ticket-form-group" style="margin-bottom: 20px;">
        <label for="{{ form.description.id_for_label }}" style="font-weight: bold; margin-bottom: 8px; display: block;">{{ form.description.label }}</label>
        <div class="ticket-form-field">
            <textarea name="{{ form.description.name }}" id="{{ form.description.id_for_label }}" rows="4" maxlength="2048" style="width: 100%; padding: 10px; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px;"></textarea>
        </div>
    </div>

    <!-- Bouton pour l'image -->
    <div class="ticket-form-group" style="margin-bottom: 20px;">
        <label for="{{ form.image.id_for_label }}" style="font-weight: bold; margin-bottom: 8px; display: block;">{{ form.image.label }}</label>
        <div class="ticket-form-field">
            <label for="{{ form.image.id_for_label }}" style="padding: 8px; background-color: #fff; color: #000; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; display: inline-block; text-align: center;">Télécharger fichier</label>
            <input type="file" name="{{ form.image.name }}" id="{{ form.image.id_for_label }}" accept="image/*" style="display: none;">
            {% if form.image.value %}
                <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">Image actuelle :</p>
                <img src="{{ form.image.value.url }}" alt="{{ form.title.value }}" style="display: block; max-width: 150px; margin-top: 10px; border: 1px solid #ddd; border-radius: 4px;">
            {% endif %}
        </div>
    </div>

    <!-- Bouton de soumission aligné en bas à droite -->
    <div class="ticket-form-group submit-group" style="display: flex; justify-content: flex-end;">
        <button type="submit" style="padding: 10px 20px; font-size: 1rem; color: #000; background-color: #fff; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;">
            Envoyer
        </button>
    </div>
</form>
